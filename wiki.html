<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nefarma | Wiki</title>
    <meta name="description" content="Информационный раздел о спортивной фармакологии. Каталог курсов.">
    <link rel="icon" type="image/png" href="https://static.tildacdn.one/tild3862-6262-4662-b063-373238316537/favicon-32x32.png">
    <link rel="apple-touch-icon" href="https://static.tildacdn.one/tild6333-3234-4439-a562-643665333264/apple-touch-icon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
    
    <style>
        /* === ОСНОВНЫЕ ПЕРЕМЕННЫЕ ДИЗАЙНА === */
        :root {
            --bg-color: #f4f7f9;
            --text-color: #2c3e50;
            --header-bg: rgba(255, 255, 255, 0.85);
            --card-bg: #ffffff;
            --border-color: #e8eef2;
            --shadow-color: rgba(44, 62, 80, 0.15);
            --accent-gradient: linear-gradient(45deg, #3498db, #2980b9);
            --level-gradient: linear-gradient(45deg, #2ecc71, #27ae60);
            --pros-color: #27ae60;
            --cons-color: #e74c3c;
            --recs-color: #3498db;
        }

        .dark-theme {
            --bg-color: #121212;
            --text-color: #ecf0f1;
            --header-bg: rgba(30, 30, 30, 0.85);
            --card-bg: #2a2a2a;
            --border-color: #3a3a3a;
            --shadow-color: rgba(0, 0, 0, 0.2);
            --accent-gradient: linear-gradient(45deg, #4a90e2, #3b7ac4);
            --level-gradient: linear-gradient(45deg, #50e3c2, #48d1b3);
            --pros-color: #73d1a2;
            --cons-color: #f28484;
            --recs-color: #4a90e2;
        }

        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        
        html { scroll-behavior: smooth; }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.4s, color 0.4s;
            line-height: 1.6;
        }

        .container { max-width: 900px; margin: 0 auto; padding: 0 20px; }

        /* === ХЕДЕР === */
        .header {
            background-color: var(--header-bg);
            backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            padding: 15px 0; border-bottom: 1px solid var(--border-color);
            position: sticky; top: 0; z-index: 1000;
            transition: background-color 0.4s, border-color 0.4s;
        }
        .header .container { display: flex; justify-content: space-between; align-items: center; }
        .logo img { height: 40px; width: auto; }
        .logo img, .intro-logo { filter: invert(1); }
        .dark-theme .logo img, .dark-theme .intro-logo { filter: none; }
        .theme-switcher { background: none; border: none; cursor: pointer; color: var(--text-color); }
        .icon-moon { display: none; }
        .dark-theme .icon-sun { display: none; }
        .dark-theme .icon-moon { display: block; }
        
        .main-content { padding: 40px 0; }
        
        /* === ИНТРО БЛОК === */
        .wiki-intro { text-align: center; margin-bottom: 50px; }
        .intro-logo { max-width: 160px; margin-bottom: 25px; transition: filter 0.4s; }
        .hero-title { font-size: 2.2rem; font-weight: 900; margin-bottom: 1rem; line-height: 1.3; text-transform: uppercase; }
        .disclaimer {
            background-color: #e7f3ff; color: #0c5460;
            border: 1px solid #b8daff; border-left: 5px solid #3498db;
            padding: 15px 20px; border-radius: 8px; margin: 25px auto;
            max-width: 85%; text-align: left;
        }
        .dark-theme .disclaimer {
            background-color: #2c3e50; color: #ecf0f1;
            border-color: #34495e; border-left-color: #4a90e2;
        }

        /* === ОГЛАВЛЕНИЕ === */
        .toc-container {
            background-color: var(--card-bg);
            padding: 20px 25px;
            border-radius: 16px;
            margin-bottom: 40px;
            box-shadow: 0 8px 30px -10px var(--shadow-color);
        }
        .toc-container h3 { margin-bottom: 15px; }
        .toc-container ol { list-style: none; padding-left: 0; column-count: 2; }
        .toc-container li a { text-decoration: none; color: var(--text-color); font-weight: 500; transition: color 0.2s; }
        .toc-container li a:hover { color: var(--recs-color); }

        /* === ФИЛЬТРЫ И ПОИСК === */
        .filters-container {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 40px;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            align-items: center;
        }
        .filters-container .search-wrapper { flex-grow: 1; min-width: 250px; }
        #search-input {
            width: 100%;
            padding: 10px 15px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background-color: var(--bg-color);
            color: var(--text-color);
            font-size: 1rem;
        }
        .filter-group .btn-filter {
            background: none;
            border: 1px solid var(--border-color);
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            color: var(--text-color);
            transition: all 0.2s;
        }
        .filter-group .btn-filter.active {
            background: var(--accent-gradient);
            color: #fff;
            border-color: transparent;
        }
        
        /* === КАРТОЧКИ КУРСОВ === */
        .course-card {
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 16px; margin-bottom: 25px;
            box-shadow: 0 8px 30px -10px var(--shadow-color);
            overflow: hidden;
            opacity: 0; transform: translateY(20px);
            transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 0.3s;
        }
        .course-card.hidden { opacity: 0; transform: scale(0.95); height: 0; margin-bottom: 0; padding: 0; border: 0; overflow: hidden; pointer-events: none;}
        .course-card:hover { transform: translateY(-5px); box-shadow: 0 12px 40px -10px var(--shadow-color); }
        .course-header { padding: 25px; cursor: pointer; border-bottom: 1px solid var(--border-color); position: relative; }
        .course-header::after { content: '▼'; position: absolute; right: 25px; top: 50%; transform: translateY(-50%); transition: transform 0.4s ease; font-size: 16px; color: #95a5a6; }
        .course-card.is-open .course-header::after { transform: translateY(-50%) rotate(180deg); }
        .course-header h2 {
            font-size: 1.6rem; margin-top: 15px; padding-right: 35px; /* Увеличили отступ справа для стрелки */
            line-height: 1.25; /* Улучшили межстрочный интервал */
            word-break: break-word; /* РЕШЕНИЕ: перенос длинных слов */
            hyphens: auto; /* Для более красивых переносов */
        }
        .course-body { padding: 0 25px; overflow: hidden;}
        .course-body-content { padding: 25px 0; }
        .course-tags { display: flex; gap: 10px; flex-wrap: wrap; align-items: center;}
        .tag { padding: 6px 14px; border-radius: 16px; font-size: 0.85rem; font-weight: 600; color: #fff; text-shadow: 1px 1px 2px rgba(0,0,0,0.2); }
        .tag-purpose { background: var(--accent-gradient); }
        
        /* === ВИЗУАЛЬНЫЙ ИНДИКАТОР УРОВНЯ === */
        .level-indicator { display: flex; gap: 4px; align-items: center; }
        .level-indicator .bar { height: 18px; width: 8px; border-radius: 3px; background-color: var(--border-color); }
        .level-indicator .bar.filled { background: var(--level-gradient); }
        .level-indicator span { font-size: 0.85rem; font-weight: 600; margin-left: 8px; color: #95a5a6; }

        .details-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 25px; margin: 25px 0; }
        
        .details-grid h3 { 
            display: flex;
            align-items: center;
            gap: 10px;
            border-bottom: 2px solid var(--border-color); 
            padding-bottom: 8px; 
        }
        .details-grid .icon { width: 22px; height: 22px; } /* Стили для SVG иконок */
        
        .pros h3 .icon { stroke: var(--pros-color); }
        .cons h3 .icon { stroke: var(--cons-color); }
        .recommendations h3 .icon { stroke: var(--recs-color); }
        
        .pros ul, .cons ul, .recommendations ul { list-style: none; padding-left: 0; }
        
        .recommendations { margin-top: 20px; background-color: var(--bg-color); padding: 20px; border-radius: 12px; }

        /* === FAQ СЕКЦИЯ === */
        #faq { margin-top: 60px; }
        #faq h2 { text-align: center; margin-bottom: 30px; }
        .faq-item { /* Стили как у .course-card */
            background-color: var(--card-bg); border: 1px solid var(--border-color);
            border-radius: 16px; margin-bottom: 15px; box-shadow: 0 8px 30px -10px var(--shadow-color);
            overflow: hidden;
        }
        .faq-header { font-weight: 700; font-size: 1.1rem; padding: 20px; cursor: pointer; position: relative; }
        .faq-header::after { content: '▼'; position: absolute; right: 25px; top: 50%; transform: translateY(-50%); transition: transform 0.4s ease; }
        .faq-item.is-open .faq-header::after { transform: translateY(-50%) rotate(180deg); }
        .faq-body { padding: 0 20px; overflow: hidden;}
        .faq-body-content { padding: 20px 0; border-top: 1px solid var(--border-color); }

        /* === КНОПКА НАВЕРХ === */
        #to-top-btn {
            position: fixed; bottom: 20px; right: 20px;
            width: 50px; height: 50px;
            background: var(--accent-gradient);
            color: white; border: none; border-radius: 50%;
            cursor: pointer; z-index: 1001;
            display: flex; align-items: center; justify-content: center;
            opacity: 0; visibility: hidden;
            transform: translateY(20px);
            transition: all 0.3s ease;
        }
        #to-top-btn.visible {
            opacity: 1; visibility: visible;
            transform: translateY(0);
        }

        .footer { text-align: center; padding: 20px 0; margin-top: 40px; border-top: 1px solid var(--border-color); font-size: 0.9rem; color: #7f8c8d; }
    </style>
</head>
<body>

    <svg width="0" height="0" style="position:absolute">
      <defs>
        <symbol id="icon-check" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="20 6 9 17 4 12"></polyline>
        </symbol>
        <symbol id="icon-alert" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>
        </symbol>
        <symbol id="icon-flask" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 3h6"></path><path d="M10 9h4"></path><path d="M10 3v6l-4 11h12l-4-11V3z"></path>
        </symbol>
      </defs>
    </svg>

    <header class="header">
        <div class="container">
            <a href="index.html" class="logo" aria-label="На главную Nefarma">
                <img src="https://static.tildacdn.one/tild6461-6365-4266-b662-336533346434/whitewhite_3.png" alt="Nefarma Logo">
            </a>
            <button class="theme-switcher" aria-label="Переключить тему">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
            </button>
        </div>
    </header>

    <main class="main-content">
        <div class="container">
            <div class="wiki-intro">
                <img src="https://static.tildacdn.one/tild6461-6365-4266-b662-336533346434/whitewhite_3.png" alt="Nefarma Logo" class="intro-logo">
                <h1 class="hero-title">Каталог курсов анаболических стероидов<br>для начинающих и среднего уровня</h1>
                <p class="disclaimer">
                    <strong>Внимание:</strong> информация предоставлена в ознакомительных целях и не несет пропаганды применения.
                    <br>Консультации: +77780990459 (whatsapp)
                </p>
            </div>
            
            <div class="toc-container">
                <h3>Содержание</h3>
                <ol id="toc-list">
                    </ol>
            </div>

            <div class="filters-container">
                <div class="search-wrapper">
                     <input type="text" id="search-input" placeholder="Поиск по названию или препарату...">
                </div>
                <div class="filter-group" data-filter-group="purpose">
                    <button class="btn-filter" data-filter="массу">На массу</button>
                    <button class="btn-filter" data-filter="сушку">На сушку</button>
                </div>
                 <div class="filter-group" data-filter-group="level">
                    <button class="btn-filter" data-filter="новичок">Новичок</button>
                    <button class="btn-filter" data-filter="средний">Средний</button>
                    <button class="btn-filter" data-filter="проф">ПРОФ</button>
                </div>
            </div>
            
            <div id="courses-container">
                <article class="course-card" id="course-1" data-tags="сушка рекомп новичок">
                    <div class="course-header">
                        <div class="course-tags">
                            <span class="tag tag-purpose">на сухую массу, сушку, рекомп</span>
                            <div class="level-indicator" aria-label="Уровень: начальный">
                                <div class="bar filled"></div><div class="bar"></div><div class="bar"></div>
                                <span>Начальный</span>
                            </div>
                        </div>
                        <h2>КУРС №1 “КОМБО, КОТОРОЕ НЕ ПОДВОДИТ”</h2>
                    </div>
                    <div class="course-body"><div class="course-body-content">
                        <p><strong>Комбинация из 2 препаратов:</strong> 1) тестостерон энантат (200-500мг/нед), 2) Мастерона энантат (300мг/нед).</p>
                        <div class="details-grid">
                            <div class="pros"><h3><svg class="icon"><use xlink:href="#icon-check"/></svg>ПЛЮСЫ</h3><ul><li>Сухой, плотный, зернистый внешний вид.</li><li>Минимизация побочек от теста.</li></ul></div>
                            <div class="cons"><h3><svg class="icon"><use xlink:href="#icon-alert"/></svg>МИНУСЫ</h3><ul><li>Не для массонабора.</li><li>Возможная сухость суставов.</li></ul></div>
                        </div>
                        <div class="recommendations"><h3><svg class="icon"><use xlink:href="#icon-flask"/></svg>Рекомендации</h3><ul><li><strong>Продолжительность:</strong> 8–12 недель</li></ul></div>
                    </div></div>
                </article>

                <article class="course-card" id="course-9" data-tags="масса рекомп средний">
                    <div class="course-header">
                        <div class="course-tags">
                            <span class="tag tag-purpose">на массу, рекомп</span>
                             <div class="level-indicator" aria-label="Уровень: средний">
                                <div class="bar filled"></div><div class="bar filled"></div><div class="bar"></div>
                                <span>Средний</span>
                            </div>
                        </div>
                        <h2>КУРС №9 “ТЕСТОСТЕРОН+ДЕКА+БОЛДЕНOН (ДЛИННОЕ НАЗВАНИЕ ДЛЯ ПРОВЕРКИ)”</h2>
                    </div>
                    <div class="course-body"><div class="course-body-content">
                         <p><strong>Препараты:</strong> Тестостерон энантат (400-500мг/нед), Нандролона деканоат (250мг/нед), Болденона ундесиленат (400-500мг/нед).</p>
                    </div></div>
                </article>

                <article class="course-card" id="course-10" data-tags="рекомп сила средний проф">
                     <div class="course-header">
                        <div class="course-tags">
                            <span class="tag tag-purpose">рекомп, сила</span>
                            <div class="level-indicator" aria-label="Уровень: средний/ПРОФ">
                                <div class="bar filled"></div><div class="bar filled"></div><div class="bar filled"></div>
                                <span>Средний/ПРОФ</span>
                            </div>
                        </div>
                        <h2>КУРС №10 “ТЕСТОСТЕРОН ПРОПИОНАТ + ТРЕНБОЛОН АЦЕТАТ (ЕЩЕ ОДНО ОЧЕНЬ ДЛИННОЕ НАЗВАНИЕ)”</h2>
                    </div>
                    <div class="course-body"><div class="course-body-content">
                         <p><strong>Препараты:</strong> Тестостерон пропионат (50-100мг/день), Тренболона ацетат (50мг/день).</p>
                    </div></div>
                </article>
                </div>

            <section id="faq">
                <h2>Часто Задаваемые Вопросы</h2>
                <div class="faq-container">
                    <article class="faq-item">
                        <div class="faq-header">Что такое ПКТ и зачем оно нужно?</div>
                        <div class="faq-body"><div class="faq-body-content">
                            <p>ПКТ (Послекурсовая терапия) — это комплекс мер, направленных на восстановление естественной выработки тестостерона и минимизацию побочных эффектов после курса анаболических стероидов.</p>
                        </div></div>
                    </article>
                     <article class="faq-item">
                        <div class="faq-header">Какие анализы сдавать перед курсом?</div>
                        <div class="faq-body"><div class="faq-body-content">
                            <p>Перед началом курса рекомендуется сдать анализы на общий тестостерон, ЛГ, ФСГ, эстрадиол, пролактин, а также общий и биохимический анализ крови для оценки общего состояния здоровья.</p>
                        </div></div>
                    </article>
                </div>
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>© 2024 - <span id="current-year"></span> Nefarma Kazakhstan. Все права защищены.</p>
        </div>
    </footer>
    
    <button id="to-top-btn" aria-label="Вернуться наверх">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 19V5M5 12l7-7 7 7"/></svg>
    </button>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // === Базовая логика: год и тема ===
            document.getElementById('current-year').textContent = new Date().getFullYear();
            const themeSwitcher = document.querySelector('.theme-switcher');
            const body = document.body;
            const currentTheme = localStorage.getItem('theme');
            if (currentTheme) { body.classList.add(currentTheme); }
            themeSwitcher.addEventListener('click', () => {
                body.classList.toggle('dark-theme');
                let theme = body.classList.contains('dark-theme') ? 'dark-theme' : 'light-theme';
                localStorage.setItem('theme', theme);
            });

            const allAccordionItems = document.querySelectorAll('.course-card, .faq-item');
            allAccordionItems.forEach(item => {
                const header = item.querySelector('.course-header, .faq-header');
                const contentBody = item.querySelector('.course-body, .faq-body');
                gsap.set(contentBody, { height: 0, autoAlpha: 0 });

                header.addEventListener('click', () => {
                    const isOpen = item.classList.contains('is-open');
                    if (!isOpen) {
                        gsap.to(contentBody, { duration: 0.5, height: 'auto', autoAlpha: 1, ease: 'power2.out' });
                        item.classList.add('is-open');
                        
                        // Анимация для списков "Плюсы/Минусы"
                        const listItems = item.querySelectorAll('.pros li, .cons li');
                        if(listItems.length > 0 && !item.dataset.animated) {
                             gsap.from(listItems, {
                                duration: 0.5,
                                opacity: 0,
                                x: -20,
                                stagger: 0.1,
                                ease: "power2.out",
                                delay: 0.2
                            });
                            item.dataset.animated = "true"; // Чтобы анимация не повторялась
                        }

                    } else {
                        gsap.to(contentBody, { duration: 0.4, height: 0, autoAlpha: 0, ease: 'power2.in' });
                        item.classList.remove('is-open');
                    }
                });
            });

            // === Анимация появления карточек при загрузке ===
            gsap.to(".course-card", {
                duration: 0.6, opacity: 1, y: 0,
                stagger: 0.1, ease: "power2.out", delay: 0.1
            });
            
            // === Кнопка "Наверх" ===
            const toTopBtn = document.getElementById('to-top-btn');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    toTopBtn.classList.add('visible');
                } else {
                    toTopBtn.classList.remove('visible');
                }
            });
            toTopBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            const courseCards = document.querySelectorAll('.course-card');
            
            // === Генерация Оглавления ===
            const tocList = document.getElementById('toc-list');
            courseCards.forEach(card => {
                const title = card.querySelector('h2').textContent;
                const id = card.id;
                const listItem = document.createElement('li');
                listItem.innerHTML = `<a href="#${id}">${title}</a>`;
                tocList.appendChild(listItem);
            });

            // === Логика ФИЛЬТРАЦИИ и ПОИСКА ===
            const searchInput = document.getElementById('search-input');
            const filterButtons = document.querySelectorAll('.btn-filter');
            let activeFilters = {};

            function applyFiltersAndSearch() {
                const searchText = searchInput.value.toLowerCase().trim();

                courseCards.forEach(card => {
                    // Проверка по поиску
                    const cardText = card.textContent.toLowerCase();
                    const searchMatch = cardText.includes(searchText);

                    // Проверка по фильтрам
                    let filterMatch = true;
                    for (const group in activeFilters) {
                        if (activeFilters[group].size > 0) {
                            const cardTags = card.dataset.tags.split(' ');
                            const groupMatch = [...activeFilters[group]].some(filterTag => cardTags.includes(filterTag));
                            if (!groupMatch) {
                                filterMatch = false;
                                break;
                            }
                        }
                    }

                    // Показываем или скрываем карточку
                    if (searchMatch && filterMatch) {
                        card.classList.remove('hidden');
                    } else {
                        card.classList.add('hidden');
                    }
                });
            }

            // Слушатели для кнопок фильтров
            filterButtons.forEach(button => {
                const group = button.closest('.filter-group').dataset.filterGroup;
                const filter = button.dataset.filter;

                if (!activeFilters[group]) {
                    activeFilters[group] = new Set();
                }

                button.addEventListener('click', () => {
                    button.classList.toggle('active');
                    if (activeFilters[group].has(filter)) {
                        activeFilters[group].delete(filter);
                    } else {
                        activeFilters[group].add(filter);
                    }
                    applyFiltersAndSearch();
                });
            });

            // Слушатель для поля поиска
            searchInput.addEventListener('input', applyFiltersAndSearch);
        });
    </script>
</body>
</html>